/**   * @(#) project: GK53_branch* @(#) file: TableService.java* * Copyright 2010 UFGOV, Inc. All rights reserved.* UFGOV PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.* */package com.ufgov.zc.server.zc.web.ylbTable.service;import java.io.ByteArrayInputStream;import java.io.InputStreamReader;import java.io.UnsupportedEncodingException;import com.thoughtworks.xstream.XStream;import com.thoughtworks.xstream.io.xml.DomDriver;import com.ufgov.zc.server.zc.web.ylbTable.entity.XmlTable;import com.ufgov.zc.server.zc.web.ylbTable.entity.XmlTableCell;import com.ufgov.zc.server.zc.web.ylbTable.entity.XmlTableColumn;import com.ufgov.zc.server.zc.web.ylbTable.entity.XmlTableRow;/*** 表格生成类* @date: 2010-4-29 上午09:21:02* @version: V1.0 * @since: 1.0* @author: Administrator* @modify: */public class TableService {  /**   * 根据一定格式的xml串生成Swing的JTable对象，xml格式参考Table5.java  * @return JTable 返回类型  * @since 1.0   */  public XmlTable convertStr2XmlTable(byte[] b) {    XStream xstream = createXStream();    ByteArrayInputStream tInputStringStream = null;    XmlTable xmlTable = null;    try {      tInputStringStream = new ByteArrayInputStream(b);      xmlTable = (XmlTable) xstream.fromXML(new InputStreamReader(tInputStringStream, "GBK"), new XmlTable());    } catch (UnsupportedEncodingException e) {      e.printStackTrace();      throw new RuntimeException(e);    }    return xmlTable;  }  /**  
  /**   * 将XmlTable对象转化成xml字符串  * @return String 返回类型  * @since 1.0   */  public String XmlTableToXmls(XmlTable xmlTable) {    XStream xstream = createXStream();    return xstream.toXML(xmlTable);  }  /**   * 实例化XStream对象，用于xml字符串转化成XmlTable对象，专用  * @return XStream 返回类型  * @since 1.0   */  public XStream createXStream() {    XStream xstream = new XStream(new DomDriver());    xstream.alias("XmlTable", XmlTable.class);    xstream.alias("XmlTableColumn", XmlTableColumn.class);    xstream.alias("XmlTableRow", XmlTableRow.class);    xstream.alias("XmlTableCell", XmlTableCell.class);    return xstream;  }}