/** *  */package com.ufgov.zc.server.zc.web.action;import java.lang.reflect.Method;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.apache.commons.logging.Log;import org.apache.commons.logging.LogFactory;import org.apache.struts.action.Action;import org.apache.struts.action.ActionForm;import org.apache.struts.action.ActionForward;import org.apache.struts.action.ActionMapping;import com.ufgov.zc.server.zc.web.form.AbstractActionForm;public class BeanAction extends Action {  private final static Log log = LogFactory.getLog(BeanAction.class);  public ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {    AbstractActionForm abstractForm = (AbstractActionForm) form;    String forward = null;    if (abstractForm != null) {      Method method = null;      String methodName = mapping.getParameter();      if (methodName != null && !"*".equals(methodName)) {        try {          //          System.out.println("***********************************调用execute方法"+ApplusContext.getApplicationContext("com.ufgov.app.zc.server"));          //          //          abstractForm.setApplicationContext(ApplusContext.getApplicationContext("com.ufgov.app.zc.server"));          abstractForm.setResponse(response);          abstractForm.initService();          //Object[] args = new Object[1];          method = abstractForm.getClass().getMethod(methodName, null);          forward = (String) method.invoke(abstractForm, null);          if (abstractForm.getMessages() != null) {            this.saveErrors(request, abstractForm.getMessages());            if (mapping.getInput() != null && !"".equals(mapping.getInput())) {              return mapping.getInputForward();            }          }        } catch (Exception e) {          request.setAttribute("BeanActionException", e);          log.warn(e.getMessage() + ":" + request.getQueryString(), e);          forward = "globalerror";        }      }    }    return mapping.findForward(forward);  }}