package com.ufgov.zc.server.zc.web.action.merchandise;import java.util.HashMap;import java.util.Map;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.apache.commons.logging.Log;import org.apache.commons.logging.LogFactory;import org.apache.struts.action.ActionForm;import org.apache.struts.action.ActionForward;import org.apache.struts.action.ActionMapping;import com.ufgov.zc.server.system.SpringContext;import com.ufgov.zc.server.system.service.IAsFileService;import com.ufgov.zc.server.zc.service.IMenuGoodsService;import com.ufgov.zc.server.zc.web.action.StrutsAction;public class DeletePictureAction extends StrutsAction {  private final static Log log = LogFactory.getLog(DeletePictureAction.class);  public ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest request,  HttpServletResponse response) throws Exception {    try {      String zcMerCode = request.getParameter("merid");      String imageId = request.getParameter("imgid");      IMenuGoodsService menuGoodsService = (IMenuGoodsService) this.getWebApplicationContext().getBean("menuGoodsService");      IAsFileService asFileService = (IAsFileService) SpringContext.getBean("asFileService");      Map parameterObject = new HashMap();      parameterObject.put("zcMerCode", zcMerCode);      parameterObject.put("imageId", imageId);      menuGoodsService.deleteZcMerPicByMerCodeAndImgID(parameterObject);      asFileService.deleteFile(imageId);    } catch (Exception e) {      log.error(e);      throw e;    }    return mapping.findForward("");  }}