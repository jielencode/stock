package com.ufgov.zc.server.zc.service.impl;import java.util.List;import com.ufgov.zc.common.system.RequestMeta;import com.ufgov.zc.common.system.constants.NumLimConstants;import com.ufgov.zc.common.system.dto.ElementConditionDto;import com.ufgov.zc.common.zc.model.ZcEbOptions;import com.ufgov.zc.server.system.util.NumLimUtil;import com.ufgov.zc.server.system.util.NumUtil;import com.ufgov.zc.server.zc.dao.IZcEbOptionsDao;import com.ufgov.zc.server.zc.service.IZcEbOptionsService;public class ZcEbOptionsService implements IZcEbOptionsService {  private IZcEbOptionsDao zcEbOptionsDao;  public IZcEbOptionsDao getZcEbOptionsDao() {    return zcEbOptionsDao;  }  public void setZcEbOptionsDao(IZcEbOptionsDao zcEbProtocolDao) {    this.zcEbOptionsDao = zcEbProtocolDao;  }  public List getZcEbProtocolList(ElementConditionDto dto, RequestMeta meta) {    dto.setNumLimitStr(NumLimUtil.getInstance().getNumLimCondByCoType(dto.getWfcompoId(),    NumLimConstants.FWATCH));    return zcEbOptionsDao.getZcEbProtocolList(dto);  }  public String getZcEbFileId(ElementConditionDto dto) {    return zcEbOptionsDao.getZcEbFileId(dto);  }  private void insertZcEbProtocol(ZcEbOptions zcEbOptions, RequestMeta requestMeta) {    String userId = requestMeta.getSvUserID();    String compoId = requestMeta.getCompoId();    String protCode = NumUtil.getInstance().getNo(compoId, "PROT_CODE", zcEbOptions);    this.zcEbOptionsDao.insertZcEbProtocol(zcEbOptions);  }  public void delete(String protCode) {    this.zcEbOptionsDao.deleteZcEbProtocolByProtCode(protCode);  }  public ZcEbOptions save(ZcEbOptions zcEbOptions, RequestMeta requestMeta) {    //saveBill(zcEbOptions);    insertZcEbProtocol(zcEbOptions, requestMeta);    // 从新计算摘要    // protocol.setDbDigest(this.getOriginalZcEbProtocolByProjCode(protocol.getProtCode()).digest());    return zcEbOptions;  }  public void update(ZcEbOptions zcEbOptions) {    this.zcEbOptionsDao.updateZcEbOptions(zcEbOptions);  }  public int isExistsFileCode(ElementConditionDto dto) {    return zcEbOptionsDao.isExistsFileCode(dto);  }  public String getFileCode(ElementConditionDto dto) {    return zcEbOptionsDao.getFileCode(dto);  }}