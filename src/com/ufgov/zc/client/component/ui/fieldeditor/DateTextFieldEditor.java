package com.ufgov.zc.client.component.ui.fieldeditor;import java.awt.event.MouseEvent;import java.awt.event.MouseListener;import javax.swing.JComponent;import com.ufgov.smartclient.component.JDateTextField;import com.ufgov.zc.common.bi.model.BiApply;import com.ufgov.zc.common.system.util.DateUtil;public class DateTextFieldEditor extends AbstractFieldEditor {  private JDateTextField field;  //  private JTextField field;  public DateTextFieldEditor(String name) {    super(name);  }  public DateTextFieldEditor(String name, boolean isEditable) {    super(name);    this.field.setEditable(isEditable);  }  public Object getValue() {    return field.getText();  }  public void setValue(Object value) { //在选择的上面的行发生改变的时候所触发的事件    if (value == null || value instanceof String) {      field.setText((String) value);    } else if (value instanceof BiApply) {      BiApply biApply = (BiApply) value;      if (biApply.getDzDate() == null) {        field.setText(null);      } else {        field.setText(DateUtil.dateToDdString(biApply.getDzDate()));      }      return;    }  }  protected JComponent createEditorComponent() { //生成下面的控件，并将改变的内容同步到对象中    field = new JDateTextField();    field.addMouseListener(new MouseListener() {      public void mouseClicked(MouseEvent e) {        syncEditObject();      }      public void mouseEntered(MouseEvent e) {        syncEditObject();      }      public void mouseExited(MouseEvent e) {        syncEditObject();      }      public void mousePressed(MouseEvent e) {        syncEditObject();      }      public void mouseReleased(MouseEvent e) {        syncEditObject();      }    });    return field;  }  protected void syncEditObject() {    if (getEditObject() instanceof BiApply) {      BiApply biApply = (BiApply) getEditObject();      if (biApply != null) {        String fieldValue = field.getText();        if (fieldValue != null && !fieldValue.equals("")) {          biApply.setDzDate(DateUtil.ddStringToDate(fieldValue));        } else {          biApply.setDzDate(null);        }      }    }    this.fireEditSynced();  }  @Override  public void setFieldEditorCode() {    // TODO Auto-generated method stub  }}