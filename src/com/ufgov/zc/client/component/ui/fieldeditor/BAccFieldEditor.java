package com.ufgov.zc.client.component.ui.fieldeditor;import javax.swing.JComponent;import com.ufgov.zc.client.component.element.BAccTreeSelectField;import com.ufgov.zc.client.component.event.ValueChangeEvent;import com.ufgov.zc.client.component.event.ValueChangeListener;import com.ufgov.zc.common.commonbiz.model.BAcc;import com.ufgov.zc.common.commonbiz.model.BaseBill;public class BAccFieldEditor extends AbstractFieldEditor {  private static final long serialVersionUID = -4691003073875144404L;  private BAccTreeSelectField baccField;  public BAccFieldEditor(String name) {    super(name);  }  public BAccFieldEditor(String name, boolean isEnabled) {    super(name);    baccField.setEnabled(isEnabled);    baccField.setEditable(isEnabled);  }  protected JComponent createEditorComponent() {    baccField = new BAccTreeSelectField();    baccField.addValueChangeListener(new ValueChangeListener() {      public void valueChanged(ValueChangeEvent e) {        syncObject();      }    });    return baccField;  }  /**   * 同步到对象   */  private void syncObject() {    if (getEditObject() instanceof BaseBill) {      BaseBill bill = (BaseBill) getEditObject();      if (bill != null) {        BAcc bacc = baccField.getBAcc();        bill.setBaccCode(bacc == null ? null : bacc.getCode());      }    }    this.fireEditSynced();  }  public Object getValue() {    return baccField.getBAcc();  }  public void setValue(Object value) {    if (value == null) {      baccField.setValue(null);    } else if (value instanceof BaseBill) {      BaseBill bill = (BaseBill) value;      baccField.setValueByCode(bill.getBaccCode());    }  }  @Override  public void setFieldEditorCode() {    this.FieldEditorCode = FieldEditorCodeConstants.B_ACC_CODE;  }}