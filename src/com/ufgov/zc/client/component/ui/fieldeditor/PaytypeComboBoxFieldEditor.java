package com.ufgov.zc.client.component.ui.fieldeditor;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import javax.swing.JComponent;import com.ufgov.zc.client.common.BillElementMeta;import com.ufgov.zc.client.component.element.PaytypeComboBox;import com.ufgov.zc.common.commonbiz.model.BaseBill;import com.ufgov.zc.common.commonbiz.model.Paytype;public class PaytypeComboBoxFieldEditor extends AbstractFieldEditor {  /**   *    */  private static final long serialVersionUID = -4691003073875144404L;  private PaytypeComboBox editField;  private String dataRuleId;  public PaytypeComboBoxFieldEditor(String name) {    super(name);  }  public PaytypeComboBoxFieldEditor(String name, String dataRuleId) {    this.dataRuleId = dataRuleId;    init(name);  }  public PaytypeComboBoxFieldEditor(String name, boolean isEnabled) {    super(name);    editField.setEnabled(isEnabled);    editField.setEditable(isEnabled);  }  protected JComponent createEditorComponent() {    editField = new PaytypeComboBox(dataRuleId);    editField.initComboBox();    editField.addActionListener(new ActionListener() {      public void actionPerformed(ActionEvent e) {        syncObject();      }    });    return editField;  }  /**   * 同步到对象   */  private void syncObject() {    if (getEditObject() instanceof BaseBill) {      BaseBill bill = (BaseBill) getEditObject();      if (bill != null) {        Paytype value = editField.getSelectedPaytype();        bill.setPaytypeCode(value == null ? null : value.getCode());      }    }    this.fireEditSynced();  }  public Object getValue() {    return editField.getSelectedPaytype();  }  public void setValue(Object value) {    if (value == null) {      editField.setSelectedPaytype(null);    } else if (value instanceof BaseBill) {      BaseBill bill = (BaseBill) value;      editField.setSelectedPaytypeByCode(bill.getPaytypeCode());    }  }  public void setBillElementMeta(BillElementMeta bem) {    editField.setBillElementMeta(bem);  }  public void setPrefix(String prefix) {    editField.setPrefix(prefix);  }  public void setFieldEditorCode() {    this.FieldEditorCode = FieldEditorCodeConstants.PAYTYPE_CODE;  }}