package com.ufgov.zc.client.component;import java.awt.Dialog;import java.util.List;import javax.swing.JOptionPane;import javax.swing.tree.DefaultMutableTreeNode;import com.ufgov.zc.client.common.LangTransMeta;import com.ufgov.zc.common.console.model.Component;import com.ufgov.zc.common.console.model.Menu;public class ComponentSelectDialog extends JTreeSelectDialog {  private List<Menu> menuList;  private MenuTree compoTree;  public ComponentSelectDialog(Dialog owner, boolean modal, JButtonTextField triggerField) {    super(owner, modal, triggerField);  }  protected void initTitle() {    LangTransMeta.init("GK%");    this.setTitle("部件选择器");  }  protected void initSelectTree() {  }  public void doOK() {    DefaultMutableTreeNode node = (DefaultMutableTreeNode) selectTree    .getLastSelectedPathComponent();    if (!node.isLeaf()) {      JOptionPane.showMessageDialog(self, "只能选择叶子节点!", "提示",      JOptionPane.INFORMATION_MESSAGE);      return;    } else {      Object o = node.getUserObject();      if (o instanceof Menu) {        JOptionPane.showMessageDialog(self, "该节点下没有部件!", "提示",        JOptionPane.INFORMATION_MESSAGE);        return;      }    }    super.doOK();  }  @Override  protected void initDataBufferList() {    compoTree = new MenuTree(true, "GRP_GFI_BI", "");    compoTree.run();    dataBufferList = compoTree.getCompoList();    menuList = compoTree.getMenuList();    for (Object o : dataBufferList) {      Component temp = (Component) o;      this.triggerField.dataMap.put(temp.getCompoCode(), temp);    }    this.triggerField.filteredDataList = dataBufferList;    this.getSelectTree().setModel(compoTree.getModel());  }}