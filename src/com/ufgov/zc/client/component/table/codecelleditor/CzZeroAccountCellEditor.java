package com.ufgov.zc.client.component.table.codecelleditor;import java.awt.Component;import java.util.List;import javax.swing.AbstractCellEditor;import javax.swing.JTable;import javax.swing.table.TableCellEditor;import com.ufgov.zc.client.common.WorkEnv;import com.ufgov.zc.client.component.PayBankAccountSelectField;import com.ufgov.zc.client.datacache.CzZeroAccountDataCache;import com.ufgov.zc.common.system.model.User;public class CzZeroAccountCellEditor extends AbstractCellEditor implements TableCellEditor {  private static final long serialVersionUID = 1L;  PayBankAccountSelectField payBankField;  CzZeroAccountCellEditor self = this;  public CzZeroAccountCellEditor() {    String coCode = WorkEnv.getInstance().getCurrCoCode();    User user = WorkEnv.getInstance().getCurrUser();    List payBankAccountList = CzZeroAccountDataCache.getCzZeroAccountListByUserId(user.getUserId());    if (payBankAccountList.isEmpty()) {      payBankAccountList = CzZeroAccountDataCache.getCzZeroAccountList(coCode);    }    payBankField = new PayBankAccountSelectField(20, payBankAccountList);  }  public Component getTableCellEditorComponent(final JTable table, Object value, boolean isSelected, int row,  int column) {    payBankField.setValueByCode((String) value);    return payBankField;  }  public Object getCellEditorValue() {    Object obj = payBankField.getBankAccount();    if (obj != null) {      return payBankField.getBankAccount().getBankAccCode();    } else {      return payBankField.getText();    }  }}