package com.ufgov.zc.client.datacache;import java.util.ArrayList;import java.util.Collections;import java.util.HashMap;import java.util.List;import java.util.Map;import com.ufgov.zc.client.common.WorkEnv;import com.ufgov.zc.common.commonbiz.model.BankAccount;import com.ufgov.zc.common.system.RequestMeta;public class CzZeroAccountDataCache {  private static Map<String, Map> dataMap = new HashMap<String, Map>();  private static Map<String, List> dataListMap = new HashMap<String, List>();  public static List getCzZeroAccountList(String coCode) {    List dataList = dataListMap.get(coCode);    if (dataList == null) {      RequestMeta requestMeta = WorkEnv.getInstance().getRequestMeta();      int nd = WorkEnv.getInstance().getTransNd();      List<String> accoTypeList = new ArrayList<String>();      accoTypeList.add("03");      dataList = Collections.unmodifiableList(Util.baseDataServiceDelegate.getBankAccountByAccoType(nd,      coCode, accoTypeList, requestMeta));      dataListMap.put(coCode, dataList);      dataMap.put(coCode, createMap(dataList));    }    return dataList;  }  public static List getCzZeroAccountListByUserId(String userId) {    List dataList = dataListMap.get(userId);    if (dataList == null) {      RequestMeta requestMeta = WorkEnv.getInstance().getRequestMeta();      int nd = WorkEnv.getInstance().getTransNd();      dataList = Collections.unmodifiableList(Util.baseDataServiceDelegate.getPayBankAccount(nd,      "03", userId, requestMeta));      dataListMap.put(userId, dataList);      dataMap.put(userId, createMap(dataList));    }    return dataList;  }  private static Map<String, BankAccount> createMap(List dataList) {    Map<String, BankAccount> dataMap = new HashMap<String, BankAccount>();    for (Object o : dataList) {      BankAccount v = (BankAccount) o;      dataMap.put(v.getBankAccCode(), v);    }    return dataMap;  }  public static BankAccount getPayBankAccount(String coCode, String bankAcccode) {    getCzZeroAccountList(coCode);    Map<String, BankAccount> value = (Map<String, BankAccount>) dataMap.get(coCode);    BankAccount bean = null;    if (value != null) {      bean = value.get(bankAcccode);    }    return bean;  }  public static BankAccount getPayBankAccountByUserId(String userId, String bankAcccode) {    getCzZeroAccountListByUserId(userId);    Map<String, BankAccount> value = (Map<String, BankAccount>) dataMap.get(userId);    BankAccount bean = null;    if (value != null) {      bean = value.get(bankAcccode);    }    return bean;  }}