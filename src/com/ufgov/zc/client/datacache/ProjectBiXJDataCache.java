package com.ufgov.zc.client.datacache;import java.util.Collections;import java.util.HashMap;import java.util.List;import java.util.Map;import com.ufgov.zc.client.common.WorkEnv;import com.ufgov.zc.common.commonbiz.model.Project;import com.ufgov.zc.common.system.RequestMeta;public class ProjectBiXJDataCache {  private static List dataList;  private static Map dataMap;  private static Map tempCodeMap;  private static void getData() {    if (dataList == null) {      refreshData();    }  }  public static synchronized void refreshData() {    int nd = WorkEnv.getInstance().getTransNd();    ;//项目中不按年度过滤，要设置gk_project_v中的批次号来过滤    RequestMeta requestMeta = WorkEnv.getInstance().getRequestMeta();    dataList = Collections.unmodifiableList(Util.baseDataServiceDelegate.getProjectBiXJ(nd, requestMeta));    Map tempMap = new HashMap();    tempCodeMap = new HashMap();    for (Object o : dataList) {      Project Project = (Project) o;      tempMap.put(Project.getOid(), Project);      tempCodeMap.put(Project.getCode(), Project);    }    dataMap = Collections.unmodifiableMap(tempMap);  }  public static List getProject() {    getData();    return dataList;  }  public static String getName(String code) {    getData();    Project value = (Project) tempCodeMap.get(code);    if (value != null) {      return value.getName();    }    return code;  }  public static Project getBean(String code) {    getData();    Project value = (Project) dataMap.get(code);    return value;  }}