package com.ufgov.zc.client.datacache;import java.util.ArrayList;import java.util.Collections;import java.util.HashMap;import java.util.List;import java.util.Map;import com.ufgov.zc.client.common.WorkEnv;import com.ufgov.zc.common.commonbiz.model.OperationType;import com.ufgov.zc.common.system.RequestMeta;import com.ufgov.zc.common.system.dto.ElementConditionDto;public class OperationTypeDataCache {  private static List dataList;  private static Map dataMap;  private static void getData() {    if (dataList == null) {      refreshData();    }  }  public static synchronized void refreshData() {    int nd = WorkEnv.getInstance().getTransNd();    RequestMeta requestMeta = WorkEnv.getInstance().getRequestMeta();    ElementConditionDto dto = new ElementConditionDto();    dto.setNd(nd);    dataList = Collections.unmodifiableList(Util.baseDataServiceDelegate.getOperationType(dto, requestMeta));    Map tempMap = new HashMap();    for (Object o : dataList) {      OperationType v = (OperationType) o;      tempMap.put(v.getCode(), v);    }    dataMap = Collections.unmodifiableMap(tempMap);  }  public static List getOperationType(String flowCode) {    getData();    if (flowCode == null) {      return dataList;    }    List list = new ArrayList();    for (Object o : dataList) {      OperationType v = (OperationType) o;      if (flowCode.equals(v.getFlowCode())) {        list.add(v);      }    }    return list;  }  public static List getOperationType(List flowCodeList) {    getData();    if (flowCodeList == null || flowCodeList.isEmpty()) {      return dataList;    }    List list = new ArrayList();    for (Object o : dataList) {      OperationType v = (OperationType) o;      if (flowCodeList.contains(v.getFlowCode())) {        list.add(v);      }    }    return list;  }  public static List getOperationType() {    getData();    return dataList;  }  public static String getName(String code) {    getData();    OperationType value = (OperationType) dataMap.get(code);    if (value != null) {      return value.getName();    }    return code;  }}