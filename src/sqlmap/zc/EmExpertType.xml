<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE sqlMap          PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"          "http://ibatis.apache.org/dtd/sql-map-2.dtd"><sqlMap namespace="EmExpertType">	<typeAlias alias="elementCondition" type="com.ufgov.zc.common.system.dto.ElementConditionDto" />	<typeAlias alias="EmExpertType" type="com.ufgov.zc.common.zc.model.EmExpertType" />	<typeAlias alias="EmExpertTypeSelection" type="com.ufgov.zc.common.zc.model.EmExpertTypeSelection" />	<resultMap id="rltMapping" class="EmExpertType">		<result property="emTypeCode" column="EM_TYPE_CODE" />		<result property="emTypeName" column="EM_TYPE_NAME" />		<result property="emParentTypeCode" column="EM_PARENT_TYPE_CODE" />		<result property="emParentTypeName" column="EM_PARENT_TYPE_NAME" />	</resultMap>	<resultMap id="seletionRltMapping" class="EmExpertTypeSelection">	    <result column="EM_TYPE_CODE" jdbcType="VARCHAR" property="code" />	    <result column="EM_TYPE_NAME" jdbcType="VARCHAR" property="name" />	    <result column="EM_PARENT_TYPE_CODE" jdbcType="VARCHAR" property="parentCode" />	    <result column="EM_EXPERT_NUM" jdbcType="INTEGER" property="emExpertNum" />		<result property="emExpertType.emTypeCode" column="EM_TYPE_CODE" />		<result property="emExpertType.emTypeName" column="EM_TYPE_NAME" />		<result property="emExpertType.emParentTypeCode" column="EM_PARENT_TYPE_CODE" />	</resultMap>		<select id="list" resultMap="rltMapping" parameterClass="elementCondition">		SELECT T.*,		       (SELECT distinct EM_TYPE_NAME		          FROM ZC_B_EXPERT_TYPE		         WHERE EM_TYPE_CODE = T.EM_PARENT_TYPE_CODE) EM_PARENT_TYPE_NAME		  FROM ZC_B_EXPERT_TYPE T			ORDER BY T.EM_TYPE_CODE	</select>		<select id="read" resultMap="rltMapping" parameterClass="map">		SELECT * FROM ZC_B_EXPERT_TYPE		WHERE EM_TYPE_CODE = #EM_TYPE_CODE#	</select>		<select id="selectionList" resultMap="seletionRltMapping" parameterClass="elementCondition">		SELECT * FROM V_ZC_EXPERT_TYPE_SELECTION	</select>		<select id="maxOfThisLevel" resultClass="String" parameterClass="map">			<![CDATA[				SELECT CASE				         WHEN MAX_ROW < 10 THEN				          PARENT_CODE || '00' || MAX_ROW				         WHEN MAX_ROW < 100 THEN				          PARENT_CODE || '0' || MAX_ROW				         ELSE				          PARENT_CODE || MAX_ROW				       END TYPE_CODE				  FROM (SELECT NVL(MAX(TO_NUMBER(SUBSTR(EM_TYPE_CODE, LENGTH(#PARENT_CODE#) + 1))),				                   -1) + 1 MAX_ROW,				               #PARENT_CODE# PARENT_CODE				          FROM ZC_B_EXPERT_TYPE T				         WHERE T.EM_TYPE_CODE LIKE #PARENT_CODE#||'___')			]]>		</select>	  <insert id="insert" parameterClass="EmExpertType" >			insert into ZC_B_EXPERT_TYPE(                	EM_TYPE_CODE,					EM_TYPE_NAME,					EM_PARENT_TYPE_CODE				) values (					#emTypeCode:VARCHAR#,					#emTypeName:VARCHAR#,					#emParentTypeCode:VARCHAR#				)	  </insert>	  <update id="update" parameterClass="EmExpertType" >			 update ZC_B_EXPERT_TYPE set					EM_TYPE_NAME = #emTypeName:VARCHAR#,					EM_PARENT_TYPE_CODE = #emParentTypeCode:VARCHAR#             where			        EM_TYPE_CODE = #emTypeCode:VARCHAR#	  </update>		<delete id="delete" parameterClass="map">			DELETE FROM ZC_B_EXPERT_TYPE			WHERE EM_TYPE_CODE = #EM_TYPE_CODE#		</delete>		<delete id="deleteEmExpertTypeJion" parameterClass="map">			DELETE FROM ZC_EM_EXPERT_TYPE_JOIN			WHERE EM_TYPE_CODE = #EM_TYPE_CODE#		</delete></sqlMap>