<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="ZC_EB_REQ_FILE">
	<resultMap id="abatorgenerated_ZcEbReqFileResult" class="com.ufgov.zc.common.zc.model.ZcEbReqFile">
		<!-- WARNING - This element is automatically generated by Abator for iBATIS, 
			do not modify. This element was generated on Tue Oct 16 07:22:30 GMT 2012. -->
		<result column="REQ_CODE" property="reqCode" jdbcType="VARCHAR" />
		<result column="SN" property="sn" jdbcType="VARCHAR" />
		<result column="CREATOR" property="creator" jdbcType="VARCHAR" />
		<result column="UPLOADER" property="uploader" jdbcType="VARCHAR" />
		<result column="CREATE_TIME" property="createTime" jdbcType="DATE" />
		<result column="UPLOAD_TIME" property="uploadTime" jdbcType="DATE" />
		<result column="REMARK" property="remark" jdbcType="VARCHAR" />
		<result column="FILE_NAME" property="fileName" jdbcType="VARCHAR" />
		<result column="STATUS" property="status" jdbcType="VARCHAR" />
		<result property="fileContent" column="FILE_CONTENT"
			typeHandler="org.springframework.orm.ibatis.support.BlobByteArrayTypeHandler" />
	</resultMap>
	<select id="abatorgenerated_selectByPrimaryKey" resultMap="abatorgenerated_ZcEbReqFileResult"
		parameterClass="String">
		select REQ_CODE, SN,CREATOR, UPLOADER, CREATE_TIME,
		UPLOAD_TIME,
		REMARK, FILE_NAME,FILE_CONTENT,
		STATUS
		from ZC_EB_REQ_FILE
		where REQ_CODE = #reqCode:VARCHAR#
	</select>
	<select id="abatorgenerated_isExistNotNull" resultClass="String"
		parameterClass="String">
		select REQ_CODE
		from ZC_EB_REQ_FILE
		where REQ_CODE =
		#reqCode:VARCHAR#
		and file_content is not null
	</select>
	<select id="abatorgenerated_isExist" resultClass="String"
		parameterClass="String">
		select REQ_CODE
		from ZC_EB_REQ_FILE
		where REQ_CODE =
		#reqCode:VARCHAR#
	</select>


	<delete id="abatorgenerated_deleteByPrimaryKey" parameterClass="String">
		delete from ZC_EB_REQ_FILE
		where REQ_CODE = #reqCode:VARCHAR#
	</delete>
	<insert id="abatorgenerated_insert" parameterClass="com.ufgov.zc.common.zc.model.ZcEbReqFile">
		insert into
		ZC_EB_REQ_FILE (REQ_CODE, SN, CREATOR, UPLOADER,
		CREATE_TIME,
		UPLOAD_TIME,
		REMARK, FILE_NAME, STATUS,FILE_CONTENT)
		values
		(#reqCode:VARCHAR#, #sn:VARCHAR#,
		#creator:VARCHAR#,
		#uploader:VARCHAR#, #createTime:DATE#, #uploadTime:DATE#,
		#remark:VARCHAR#,
		#fileName:VARCHAR#,
		#status:VARCHAR#,#fileContent,handler=org.springframework.orm.ibatis.support.BlobByteArrayTypeHandler#)
	</insert>
	<update id="abatorgenerated_updateByPrimaryKey" parameterClass="com.ufgov.zc.common.zc.model.ZcEbReqFile">
		update ZC_EB_REQ_FILE
		set SN = #sn:VARCHAR#,
		CREATOR =
		#creator:VARCHAR#,
		UPLOADER = #uploader:VARCHAR#,
		CREATE_TIME =
		#createTime:DATE#,
		UPLOAD_TIME = #uploadTime:DATE#,
		REMARK =
		#remark:VARCHAR#,
		FILE_NAME = #fileName:VARCHAR#,
		STATUS =
		#status:VARCHAR#,
		FILE_CONTENT =
		#fileContent,handler=org.springframework.orm.ibatis.support.BlobByteArrayTypeHandler#

		where REQ_CODE = #reqCode:VARCHAR#
	</update>
	<update id="abatorgenerated_updateByPrimaryKeySelective"
		parameterClass="com.ufgov.zc.common.zc.model.ZcEbReqFile">
		update ZC_EB_REQ_FILE
		<dynamic prepend="set">
			<isNotNull prepend="," property="sn">
				SN = #sn:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="creator">
				CREATOR = #creator:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="uploader">
				UPLOADER =
				#uploader:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="createTime">
				CREATE_TIME =
				#createTime:DATE#
			</isNotNull>
			<isNotNull prepend="," property="uploadTime">
				UPLOAD_TIME =
				#uploadTime:DATE#
			</isNotNull>
			<isNotNull prepend="," property="remark">
				REMARK = #remark:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="fileName">
				FILE_NAME =
				#fileName:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="status">
				STATUS = #status:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="fileContent">
				FILE_CONTENT =
				#fileContent,handler=org.springframework.orm.ibatis.support.BlobByteArrayTypeHandler#
			</isNotNull>
		</dynamic>
		where REQ_CODE = #reqCode:VARCHAR#
	</update>
	<select id="selectZcEbReqFileByEntrustCode" resultMap="abatorgenerated_ZcEbReqFileResult"
		parameterClass="String">
		select
		ZC_EB_REQ_FILE. REQ_CODE,
		ZC_EB_REQ_FILE. SN,
		ZC_EB_REQ_FILE. CREATOR,
		ZC_EB_REQ_FILE. UPLOADER,
		ZC_EB_REQ_FILE. CREATE_TIME,
		ZC_EB_REQ_FILE. UPLOAD_TIME,
		ZC_EB_REQ_FILE. REMARK,
		ZC_EB_REQ_FILE. FILE_NAME,
		ZC_EB_REQ_FILE. FILE_CONTENT,
		ZC_EB_REQ_FILE. STATUS
		from ZC_EB_REQ_FILE ZC_EB_REQ_FILE
		where ZC_EB_REQ_FILE.REQ_CODE = #entrustCode :VARCHAR#
	</select>
	<select id="selectZcEbReqFileByEntrustSnCode" resultMap="abatorgenerated_ZcEbReqFileResult"
		parameterClass="String">
		select
		ZC_EB_REQ_FILE. REQ_CODE,
		ZC_EB_REQ_FILE. SN,
		ZC_EB_REQ_FILE. CREATOR,
		ZC_EB_REQ_FILE. UPLOADER,
		ZC_EB_REQ_FILE. CREATE_TIME,
		ZC_EB_REQ_FILE. UPLOAD_TIME,
		ZC_EB_REQ_FILE. REMARK,
		ZC_EB_REQ_FILE. FILE_NAME,
		ZC_EB_REQ_FILE. FILE_CONTENT,
		ZC_EB_REQ_FILE. STATUS
		from ZC_EB_REQ_FILE ZC_EB_REQ_FILE
		where ZC_EB_REQ_FILE.SN  in (select t.sn from zc_eb_entrust t where t.sn_code = #value#)
		order by REQ_CODE desc
	</select>
</sqlMap>