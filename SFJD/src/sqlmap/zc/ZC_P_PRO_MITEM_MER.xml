<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="ZC_P_PRO_MITEM_MER">
  <resultMap class="com.ufgov.zc.common.zc.model.ZcPProMitem" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 29 16:50:54 CST 2010.
    -->
    <result column="ZC_MAKE_CODE" jdbcType="VARCHAR" property="zcMakeCode" />
    <result column="ZC_PITEM_CODE" jdbcType="DECIMAL" property="zcPitemCode" />
    <result column="ZC_YEAR" jdbcType="CHAR" property="zcYear" />
    <result column="ZC_CATALOGUE_CODE" jdbcType="VARCHAR" property="zcCatalogueCode" />
    <result column="ZC_CATALOGUE_NAME" jdbcType="VARCHAR" property="zcCatalogueName" />
    <result column="ZC_PITEM_NAME" jdbcType="VARCHAR" property="zcPitemName" />
    <result column="ZC_PITEM_ARR_DATE" jdbcType="TIMESTAMP" property="zcPitemArrDate" />
    <result column="ZC_BASE_GGYQ" jdbcType="VARCHAR" property="zcBaseGgyq" />
    <result column="ZC_PITEM_ATTACH" jdbcType="VARCHAR" property="zcPitemAttach" />
    <result column="ZC_PITEM_ATTACH_BLOBID" jdbcType="VARCHAR" property="zcPitemAttachBlobid" />
    <result column="ZC_PINMU_CTLG" jdbcType="VARCHAR" property="zcPinmuCtlg" />
    <result column="ZC_MAKE_NEW_CODE" jdbcType="VARCHAR" property="zcMakeNewCode" />
    <result column="ZC_CAIG_NUM" jdbcType="DECIMAL" property="zcCaigNum" />
    <result column="ZC_ITEM_SUM" jdbcType="DECIMAL" property="zcItemSum" />
    <result column="ZC_MER_PRICE" jdbcType="DECIMAL" property="zcMerPrice" />
    <result column="BUDGET_BI_MONEY" jdbcType="DECIMAL" property="budgetBiMoney" />
    <result column="BUDGET_OTHER_MONEY" jdbcType="DECIMAL" property="budgetOtherMoney" />
    <result column="ZC_BRA_CODE" jdbcType="VARCHAR" property="zcBraCode" />
    <result column="ZC_BRA_NAME" jdbcType="VARCHAR" property="zcBraName" />
    <result column="ZC_MER_CODE" jdbcType="VARCHAR" property="zcMerCode" />
    <result column="ZC_MER_NAME" jdbcType="VARCHAR" property="zcMerName" />
    <result column="ZC_SU_CODE" jdbcType="VARCHAR" property="zcSuCode" />
    <result column="ZC_SU_NAME" jdbcType="VARCHAR" property="zcSuName" />
    <result column="ZC_IS_SU_JIN_JIA" jdbcType="VARCHAR" property="zcIsSuJinJia" />
    <result column="ZC_IS_CHENG_JIAO" jdbcType="VARCHAR" property="zcIsChengJiao" />
    <result column="ZC_JIN_JIA_SUBMIT_DATE" jdbcType="TIMESTAMP" property="zcJinJiaSubmitDate" />
    <result column="ZC_IS_GONG_HUO" jdbcType="VARCHAR" property="zcIsGongHuo" />
    <result column="ZC_NO_GONG_HUO_REASON" jdbcType="VARCHAR" property="zcNoGongHuoReason" />
  </resultMap>
  <sql id="ibatorgenerated_Example_Where_Clause">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 29 16:50:54 CST 2010.
    -->
    <iterate conjunction="or" prepend="where" property="oredCriteria" removeFirstPrepend="iterate">
      <isEqual compareValue="true" property="oredCriteria[].valid">
        (
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithoutValue">
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithSingleValue">
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithListValue">
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate close=")" conjunction="," open="(" property="oredCriteria[].criteriaWithListValue[].values">
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithBetweenValue">
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="selectByBrand" parameterClass="com.ufgov.zc.common.zc.model.ZcPProMitem" resultMap="ibatorgenerated_BaseResultMap">
    select ZC_P_PRO_MITEM_MER.ZC_MAKE_CODE, ZC_P_PRO_MITEM_MER.ZC_PITEM_CODE, ZC_P_PRO_MITEM_MER.ZC_YEAR, ZC_P_PRO_MITEM_MER.ZC_CATALOGUE_CODE, ZC_P_PRO_MITEM_MER.ZC_CATALOGUE_NAME,
      ZC_P_PRO_MITEM_MER.ZC_PITEM_NAME, ZC_P_PRO_MITEM_MER.ZC_PITEM_ARR_DATE, ZC_P_PRO_MITEM_MER.ZC_BASE_GGYQ, ZC_P_PRO_MITEM_MER.ZC_PITEM_ATTACH, ZC_P_PRO_MITEM_MER.ZC_PITEM_ATTACH_BLOBID,
      ZC_P_PRO_MITEM_MER.ZC_PINMU_CTLG, ZC_P_PRO_MITEM_MER.ZC_MAKE_NEW_CODE, ZC_P_PRO_MITEM_MER.ZC_CAIG_NUM, ZC_P_PRO_MITEM_MER.ZC_ITEM_SUM, ZC_P_PRO_MITEM_MER.ZC_MER_PRICE, ZC_P_PRO_MITEM_MER.BUDGET_BI_MONEY,
      ZC_P_PRO_MITEM_MER.BUDGET_OTHER_MONEY,
      B.ZC_BRA_CODE,B.ZC_BRA_NAME,
      M.ZC_MER_CODE,M.ZC_MER_NAME,
      S.ZC_SU_CODE,S.ZC_SU_NAME,
      ZC_P_PRO_MITEM_MER.ZC_IS_SU_JIN_JIA,ZC_P_PRO_MITEM_MER.ZC_IS_CHENG_JIAO, 
      ZC_P_PRO_MITEM_MER.ZC_JIN_JIA_SUBMIT_DATE,     
      ZC_P_PRO_MITEM_MER.ZC_IS_GONG_HUO,ZC_P_PRO_MITEM_MER.ZC_NO_GONG_HUO_REASON
    from ZC_P_PRO_MITEM_MER ,ZC_ZB_PINP B,ZC_B_MERCHANDISE M,ZC_B_SUPPLIER S
    where 1=1
     <isNotEmpty prepend="and" property="zcMakeCode">
        ZC_P_PRO_MITEM_MER.ZC_MAKE_CODE = #zcMakeCode:VARCHAR#
     </isNotEmpty>
      <isNotEmpty prepend="and" property="zcCatalogueCode">
        ZC_P_PRO_MITEM_MER.ZC_CATALOGUE_CODE=#zcCatalogueCode:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="and" property="zcBraCode">
        ZC_P_PRO_MITEM_MER.ZC_BRA_CODE=#zcBraCode:VARCHAR#
      </isNotEmpty>
      AND ZC_P_PRO_MITEM_MER.ZC_BRA_CODE=B.ZC_BRA_CODE(+)
      AND ZC_P_PRO_MITEM_MER.ZC_MER_CODE=M.ZC_MER_CODE(+)
      AND ZC_P_PRO_MITEM_MER.ZC_SU_CODE=S.ZC_SU_CODE(+)  
  </select>
  <insert id="ibatorgenerated_insert" parameterClass="com.ufgov.zc.common.zc.model.ZcPProMitemMer">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 29 16:50:54 CST 2010.
    -->
    insert into ZC_P_PRO_MITEM_MER (ZC_MAKE_CODE, ZC_PITEM_CODE, ZC_YEAR, ZC_CATALOGUE_CODE,
      ZC_CATALOGUE_NAME, ZC_PITEM_NAME, ZC_PITEM_ARR_DATE, ZC_BASE_GGYQ, ZC_PITEM_ATTACH,
      ZC_PITEM_ATTACH_BLOBID, ZC_PINMU_CTLG, ZC_MAKE_NEW_CODE, ZC_CAIG_NUM, ZC_ITEM_SUM,
      ZC_MER_PRICE, BUDGET_BI_MONEY, BUDGET_OTHER_MONEY,ZC_BRA_CODE,ZC_MER_CODE,ZC_SU_CODE,
      ZC_IS_SU_JIN_JIA,ZC_IS_CHENG_JIAO,ZC_JIN_JIA_SUBMIT_DATE,ZC_IS_GONG_HUO,ZC_NO_GONG_HUO_REASON)
    values (#zcMakeCode:VARCHAR#, #zcPitemCode:DECIMAL#, #zcYear:CHAR#, #zcCatalogueCode:VARCHAR#,
      #zcCatalogueName:VARCHAR#, #zcPitemName:VARCHAR#, #zcPitemArrDate:TIMESTAMP#,
      #zcBaseGgyq:VARCHAR#, #zcPitemAttach:VARCHAR#, #zcPitemAttachBlobid:VARCHAR#,
      #zcPinmuCtlg:VARCHAR#, #zcMakeNewCode:VARCHAR#, #zcCaigNum:DECIMAL#, #zcItemSum:DECIMAL#,
      #zcMerPrice:DECIMAL#, #budgetBiMoney:DECIMAL#, #budgetOtherMoney:DECIMAL#,
      #zcBraCode:VARCHAR#,#zcMerCode:VARCHAR#,#zcSuCode:VARCHAR#,
      #zcIsSuJinJia:VARCHAR#,#zcIsChengJiao:VARCHAR#,#zcJinJiaSubmitDate:TIMESTAMP#,
      #zcIsGongHuo:VARCHAR#,#zcNoGongHuoReason:VARCHAR#)
  </insert>
  <delete id="deleteJingJiaMerByKey" parameterClass="com.ufgov.zc.common.zc.model.ZcPProMitemExample" >
    delete from ZC_P_PRO_MITEM_MER ZC_P_PRO_MITEM
    <include refid="ZC_P_PRO_MITEM.ibatorgenerated_Example_Where_Clause" />
  </delete>
  
	<!-- 修改ZC_MAKE_CODE 为送审时重新编的编号 -->
	<update id="ibatorgenerated_updateMitemMerPrimaryKeyByTempCode" parameterClass="com.ufgov.zc.common.zc.model.ZcPProMake">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Thu Apr 29
			16:50:54 CST 2010.
		-->
		update ZC_P_PRO_MITEM_MER
		set ZC_MAKE_CODE = #zcMakeCode:VARCHAR#
		where ZC_MAKE_CODE = #zcTempMakeCode:VARCHAR#
	</update>
</sqlMap>