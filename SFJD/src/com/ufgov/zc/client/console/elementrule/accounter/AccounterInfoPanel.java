package com.ufgov.zc.client.console.elementrule.accounter;import java.awt.BorderLayout;import java.awt.Color;import java.awt.Dimension;import java.awt.FlowLayout;import java.util.HashMap;import java.util.Iterator;import java.util.Map;import java.util.Map.Entry;import javax.swing.BorderFactory;import javax.swing.JLabel;import javax.swing.JPanel;import javax.swing.JTextField;import javax.swing.JToolBar;import javax.swing.SwingConstants;import com.ufgov.zc.client.console.elementrule.RuleEntryModel;import com.ufgov.zc.client.console.elementrule.event.ElementRelationEvent;import com.ufgov.zc.client.console.elementrule.event.ElementRelationListener;import com.ufgov.zc.common.commonbiz.model.MaElementRelationRuleDetail;import com.ufgov.zc.common.commonbiz.model.MaElementRelationRuleEntry;public class AccounterInfoPanel extends JPanel implements ElementRelationListener {  /**   *    */  private static final long serialVersionUID = -1665479739530451857L;  private JToolBar toolBar = new JToolBar(JToolBar.HORIZONTAL);  //private JTextField nd = new JTextField(20);  private JTextField cocode = new JTextField(20);  private JTextField bankAccCode = new JTextField(20);  private JTextField bankAccName = new JTextField(20);  private JTextField bankAccNo = new JTextField(20);  private JTextField bankNo = new JTextField(20);  private JTextField bankNodeCode = new JTextField(20);  private JTextField bankNodeName = new JTextField(20);  private JTextField bankCode = new JTextField(20);  private JTextField bankName = new JTextField(20);  private Map<String, JTextField> textMap = new HashMap<String, JTextField>();  public AccounterInfoPanel() {    this.setLayout(new BorderLayout());    this.setBorder(BorderFactory.createLineBorder(Color.GRAY));    initTextBox();  }  private void initTextBox() {    JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT));    textMap.put("CO_CODE", cocode);    panel.add(createPanel("单位代码：", cocode));    textMap.put("BANK_ACC_CODE", bankAccCode);    panel.add(createPanel("银行账户：", bankAccCode));    textMap.put("BANK_ACC_NAME", bankAccName);    panel.add(createPanel("账户全称：", bankAccName));    textMap.put("BANK_ACC_NO", bankAccNo);    panel.add(createPanel("账号：", bankAccNo));    textMap.put("BANK_NO", bankNo);    panel.add(createPanel("银行行号：", bankNo));    textMap.put("BANKNODE_CODE", bankNodeCode);    panel.add(createPanel("银行网点代码：", bankNodeCode));    textMap.put("BANKNODE_NAME", bankNodeName);    panel.add(createPanel("银行网点名称：", bankNodeName));    textMap.put("BANK_CODE", bankCode);    panel.add(createPanel("银行代码：", bankCode));    textMap.put("BANK_NAME", bankName);    panel.add(createPanel("银行名称：", bankName));    this.add(panel, BorderLayout.CENTER);  }  public void initWithRuleEntryModel(RuleEntryModel model) {    model.removeElementRelationListener(this);    model.addElementRelationListener(this);    MaElementRelationRuleEntry ruleData = (MaElementRelationRuleEntry) model.getRuleEntry();    Map<String, MaElementRelationRuleDetail> map = ruleData.getDestElementMap();    Iterator iter = map.entrySet().iterator();    Entry entry = null;    MaElementRelationRuleDetail relationDetail = null;    while (iter.hasNext()) {      entry = (Entry) iter.next();      String billCode = (String) entry.getKey();      relationDetail = (MaElementRelationRuleDetail) entry.getValue();      if (textMap.get(billCode) != null) {        textMap.get(billCode).setText(relationDetail.getElementValue());      }    }  }  private JPanel createPanel(String label, JTextField field) {    JPanel p = new JPanel();    p.setLayout(new FlowLayout(FlowLayout.LEFT));    JLabel l = new JLabel(label);    l.setPreferredSize(new Dimension(100, 12));    l.setHorizontalAlignment(SwingConstants.RIGHT);    p.add(l);    field.setEditable(false);    p.add(field);    return p;  }  public void addedDesElementRelation(ElementRelationEvent event) {    // TODO Auto-generated method stub  }  public void addedSrcElementRelation(ElementRelationEvent event) {    // TODO Auto-generated method stub  }  public void modefiedDesElementRelation(ElementRelationEvent event, Object oldValue) {    // TODO Auto-generated method stub    MaElementRelationRuleDetail relation = (MaElementRelationRuleDetail) event.getSource();    JTextField text = (JTextField) textMap.get(relation.getElement());    if (text != null) {      text.setText(relation.getElementValue());    }  }  public void modefiedSrcElementRelation(ElementRelationEvent event, Object oldValue) {    // TODO Auto-generated method stub  }  public void removedDesElementRelation(ElementRelationEvent event) {    // TODO Auto-generated method stub  }  public void removedSrcElementRelation(ElementRelationEvent event) {    // TODO Auto-generated method stub  }}