package com.ufgov.zc.client.component;import java.awt.BorderLayout;import java.awt.Dialog;import java.awt.event.WindowAdapter;import java.awt.event.WindowEvent;import java.util.List;import javax.swing.JFrame;import javax.swing.JPanel;import com.ufgov.zc.client.datacache.CzZeroAccountDataCache;import com.ufgov.zc.common.commonbiz.model.BankAccount;import com.ufgov.zc.common.commonbiz.model.Fund;public class PayBankAccountSelectField extends JButtonTextField {  private Fund fund;  public PayBankAccountSelectField(int col) {    super(col);    this.init();  }  public PayBankAccountSelectField(int col, List payBankAccountList) {    super(col);    this.init(payBankAccountList);  }  public PayBankAccountSelectField(int col, Dialog owner) {    super(col);    this.owner = owner;    this.init();  }  public PayBankAccountSelectField(int col, Dialog owner, List dataList) {    super(col);    this.owner = owner;    this.init(dataList);  }  public Fund getFund() {    return fund;  }  public void setFund(Fund fund) {    this.fund = fund;  }  public void setValue(Object value) {    this.value = value;    if (value != null) {      BankAccount data = (BankAccount) value;      this.setText(data.getBankAccCode());      if (data.getAccName() == null)        this.setToolTipText(null);      else        this.setToolTipText("[" + data.getBankAccCode() + "]" + data.getAccName());    } else {      this.setText("");      this.setToolTipText(null);    }    this.fireValueChanged();  }  public void setBankAccount(BankAccount value) {    this.setValue(value);  }  public BankAccount getBankAccount() {    return (BankAccount) this.getValue();  }  public void handleClick(JButtonTextField jButtonTextField) {    selectDialog.setVisible(true);  }  private void init() {    selectDialog = new PayBankAccountSelectDialog(owner, true, this);  }  private void init(final List dataList) {    selectDialog = new PayBankAccountSelectDialog(owner, true, this) {      @Override      protected void initDataBufferList() {        dataBufferList = dataList;        for (int i = 0; i < dataBufferList.size(); i++) {          BankAccount rowData = (BankAccount) dataBufferList.get(i);          this.triggerField.getDataMap().put(rowData.getBankAccCode(), rowData);        }      }    };  }  public void refreshData(final List dataList) {    selectDialog = new PayBankAccountSelectDialog(owner, true, this) {      @Override      protected void initDataBufferList() {        dataBufferList = dataList;        for (int i = 0; i < dataBufferList.size(); i++) {          BankAccount rowData = (BankAccount) dataBufferList.get(i);          this.triggerField.getDataMap().put(rowData.getBankAccCode(), rowData);        }      }    };  }  public static void main(String[] args) {    JFrame f = new JFrame();    List payBankAccountList = CzZeroAccountDataCache.getCzZeroAccountList("0");    PayBankAccountSelectField textField = new PayBankAccountSelectField(20, payBankAccountList);    textField.setValueByCode("01");    textField.setEditable(false);    textField.setEnabled(false);    textField.setEnabled(true);    textField.setRandomEdit(false);    // textField.setPrefix("01");    JPanel panel = new JPanel();    panel.add(textField);    f.getContentPane().add(panel, BorderLayout.NORTH);    f.setSize(400, 300);    f.setLocationRelativeTo(null);    f.setVisible(true);    f.addWindowListener(new WindowAdapter() {      public void windowClosing(WindowEvent e) {        System.exit(0);      }    });  }}