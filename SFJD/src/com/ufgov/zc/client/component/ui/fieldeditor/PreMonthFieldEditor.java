package com.ufgov.zc.client.component.ui.fieldeditor;import java.awt.BorderLayout;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import java.awt.event.WindowAdapter;import java.awt.event.WindowEvent;import javax.swing.JComponent;import javax.swing.JFrame;import javax.swing.JPanel;import com.ufgov.zc.client.component.MonthComboBox;import com.ufgov.zc.common.am.model.AmApply;public class PreMonthFieldEditor extends AbstractFieldEditor {  /**   *    */  private static final long serialVersionUID = -7247857702938437154L;  private MonthComboBox planMothCombox;  public PreMonthFieldEditor(String name) {    super(name);  }  public PreMonthFieldEditor(String name, boolean isEditable) {    super(name);    this.planMothCombox.setEnabled(isEditable);  }  protected JComponent createEditorComponent() { //生成下面的控件，并将改变的内容同步到对象中    planMothCombox = new MonthComboBox(false);    planMothCombox.addActionListener(new ActionListener() {      public void actionPerformed(ActionEvent e) {        syncEditObject();      }    });    return planMothCombox;  }  protected void syncEditObject() {    if (getEditObject() instanceof AmApply) {      AmApply amApply = (AmApply) getEditObject();      amApply.setPreMonth(Integer.parseInt(planMothCombox.getSelectedAsVal().getValId().trim()));    }    this.fireEditSynced();  }  public static void main(String[] args) {    JFrame f = new JFrame();    PreMonthFieldEditor textField = new PreMonthFieldEditor("");    JPanel panel = new JPanel();    panel.add(textField);    f.getContentPane().add(panel, BorderLayout.NORTH);    f.setSize(400, 300);    f.setLocationRelativeTo(null);    f.setVisible(true);    f.addWindowListener(new WindowAdapter() {      public void windowClosing(WindowEvent e) {        System.exit(0);      }    });  }  public Object getValue() {    return Integer.parseInt(planMothCombox.getSelectedAsVal().getValId().trim());  }  public void setValue(Object value) { //在选择的上面的行发生改变的时候所触发的事件    if (value == null) {      planMothCombox.setSelectedAsVal(null);    } else if (value instanceof AmApply) {      AmApply bill = (AmApply) value;      if (bill.getPreMonth() != null) {        planMothCombox.setSelectedAsValByCode(bill.getPreMonth().toString());      } else {        planMothCombox.setSelectedAsVal(null);      }    }  }  public void setFieldEditorCode() {    this.FieldEditorCode = FieldEditorCodeConstants.MONTH;  }}