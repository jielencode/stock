package com.ufgov.zc.client.component.zc.fieldeditor.zcbcatalogue;import javax.swing.JComponent;import com.ufgov.zc.client.component.event.ValueChangeEvent;import com.ufgov.zc.client.component.event.ValueChangeListener;import com.ufgov.zc.client.component.ui.fieldeditor.AbstractFieldEditor;import com.ufgov.zc.common.system.util.BeanUtil;import com.ufgov.zc.common.zc.model.ZcBCatalogue;import com.ufgov.zc.common.zc.model.ZcBaseBill;public class ZcBCatalogueTreeSelectEditor extends AbstractFieldEditor {  private static final long serialVersionUID = -7677429808342983951L;  public ZcBCatalogueTreeSelectField coField = new ZcBCatalogueTreeSelectField();  public ZcBCatalogueTreeSelectEditor(String name, String fieldName) {    this.fieldName = fieldName;    init(name);  }  public ZcBCatalogueTreeSelectEditor(String name, String fieldName, boolean selectedTailFlag) {    this.fieldName = fieldName;    coField = new ZcBCatalogueTreeSelectField(selectedTailFlag);    init(name);  }  public ZcBCatalogueTreeSelectEditor(String name, boolean isEnabled, String fieldName) {    this.fieldName = fieldName;    init(name);    coField.setEnabled(isEnabled);    coField.setEditable(isEnabled);  }  protected JComponent createEditorComponent() {    coField.addValueChangeListener(new ValueChangeListener() {      public void valueChanged(ValueChangeEvent e) {        syncEditObject();      }    });    return coField;  }  protected void syncEditObject() {    if (getEditObject() instanceof ZcBaseBill) {      ZcBaseBill bill = (ZcBaseBill) getEditObject();      if (bill != null) {        ZcBCatalogue zcBCatalogue = coField.getZcBCatalogue();        BeanUtil.set("zcCatalogueCode", zcBCatalogue == null ? null : zcBCatalogue.getZcCatalogueCode(), getEditObject());        BeanUtil.set("zcCatalogueName", zcBCatalogue == null ? null : zcBCatalogue.getZcCatalogueName(), getEditObject());        //BeanUtil.set("zcZcMetricUnit", zcBCatalogue==null? null: zcBCatalogue.getZcMetricUnit(), getEditObject());      }    }    this.fireEditSynced();  }  public Object getValue() {    return coField.getZcBCatalogue();  }  public void setValue(Object value) {    coField.setValueByCode((String) BeanUtil.get(fieldName, value));  }}