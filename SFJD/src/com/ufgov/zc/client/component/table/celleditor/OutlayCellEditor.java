package com.ufgov.zc.client.component.table.celleditor;import java.awt.Component;import javax.swing.AbstractCellEditor;import javax.swing.JTable;import javax.swing.table.TableCellEditor;import com.ufgov.zc.client.component.element.OutlayTreeSelectField;import com.ufgov.zc.client.component.event.ValueChangeEvent;import com.ufgov.zc.client.component.event.ValueChangeListener;public class OutlayCellEditor extends AbstractCellEditor implements TableCellEditor {  private OutlayTreeSelectField outlayFiled = new OutlayTreeSelectField();  private OutlayCellEditor self = this;  public OutlayCellEditor() {    outlayFiled.addValueChangeListener(new ValueChangeListener() {      public void valueChanged(ValueChangeEvent e) {        self.stopCellEditing();      }    });  }  public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row,  int column) {    if (value instanceof String) {      outlayFiled.setValue(null);    } else      outlayFiled.setValue(value);    return outlayFiled;  }  public Object getCellEditorValue() {    Object obj = outlayFiled.getOutlay();    if (obj != null) {      return outlayFiled.getOutlay();    } else {      return outlayFiled.getText();    }  }}