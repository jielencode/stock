package com.ufgov.zc.client.component.table.codecelleditor;import java.awt.Component;import java.util.List;import javax.swing.AbstractCellEditor;import javax.swing.JTable;import javax.swing.table.TableCellEditor;import com.ufgov.zc.client.common.WorkEnv;import com.ufgov.zc.client.component.PayBankAccountSelectField;import com.ufgov.zc.client.datacache.ClearBankAccountDataCache;import com.ufgov.zc.common.system.model.User;public class ClearBankCellEditor extends AbstractCellEditor implements TableCellEditor {  PayBankAccountSelectField clearBankField;  ClearBankCellEditor self = this;  public ClearBankCellEditor() {    String coCode = WorkEnv.getInstance().getCurrCoCode();    User user = WorkEnv.getInstance().getCurrUser();    List cleatBankAccoutList = ClearBankAccountDataCache.getClearBankAccountListByUserId(user.getUserId());    if (cleatBankAccoutList.isEmpty()) {      cleatBankAccoutList = ClearBankAccountDataCache.getClearBankAccountList(coCode);    }    clearBankField = new PayBankAccountSelectField(20, cleatBankAccoutList);  }  public Component getTableCellEditorComponent(final JTable table, Object value, boolean isSelected, int row,  int column) {    clearBankField.setValueByCode((String) value);    return clearBankField;  }  public Object getCellEditorValue() {    Object obj = clearBankField.getBankAccount();    if (obj != null) {      return clearBankField.getBankAccount().getBankAccCode();    } else {      return clearBankField.getText();    }  }}