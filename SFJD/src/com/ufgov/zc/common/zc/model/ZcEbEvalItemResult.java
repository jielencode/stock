/**   * @(#) project: GK* @(#) file: ZcEbEvalItem.java* * Copyright 2010 UFGOV, Inc. All rights reserved.* UFGOV PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.* */package com.ufgov.zc.common.zc.model;import java.math.BigDecimal;import java.util.Date;import java.util.List;import com.ufgov.zc.common.system.constants.ZcSettingConstants;/*** @ClassName: ZcEbEvalItem* @Description: 专家评审明细对象。* @date: 2010-4-22 下午04:33:21* @version: V1.0 * @since: 1.0* @author: tianly1* @modify: */public class ZcEbEvalItemResult extends ZcBaseBill {  private static final long serialVersionUID = -4992210654640944105L;  private String tempId;  private String projCode;  private String packCode;  private String formulaCode;  private String itemCode;  private String parentItemCode;  private ZcEbEvalItemResult parentEvalItemResult;  private String itemName;  private String description;  private String itemType;  private String formula;  private String isAddScore;  private String isPriceTarget;  private Integer indx;  private BigDecimal weight;  private BigDecimal maxAddScore;  private BigDecimal maxMinusScore;  private BigDecimal standardScore;  private BigDecimal baseScore;  private BigDecimal leastScore;  private Date evalDate;  private BigDecimal expertEvalScore;  private BigDecimal adjustScore;  private String resultCode;  private String providerCode;  private String providerName;  private String evalExpert;  private String evalExpertCode;  private String isCompositeResult;  private String remark;  private String formulaItemRemark;  private String complianceEvalValue;  private String complianceUnpassReason;  private String adjustReason;  private String evalResult;  //符合性指标采购中心初审结果  private String auditValue;  private String noPassReason;  private List childItemList;  private boolean isEval;  //该指标对应招标文件ID  private String responseCode;  public String getTempId() {    return tempId;  }  public boolean isEval() {    if (getChildItemList() == null || getChildItemList().size() == 0) {      if (EvalItemType.COMPLIANICE.equals(itemType)) {        if (complianceEvalValue != null) {          return true;        } else {          return false;        }      } else {        if (expertEvalScore != null) {          return true;        } else {          return false;        }      }    } else {      for (int i = 0; i < getChildItemList().size(); i++) {        ZcEbEvalItemResult childItem = (ZcEbEvalItemResult) getChildItemList().get(i);        if (!"1".equals(childItem.getIsAddScore()) && !childItem.isEval()) {          return false;        }      }      return true;    }  }  public void updateEvalResult() {    if (getChildItemList() == null || getChildItemList().size() == 0) {      if (EvalItemType.COMPLIANICE.equals(itemType)) {        setComplianceEvalValue(getComplianceEvalValue());      } else {        setExpertEvalScore(getExpertEvalScore());      }    } else {      if (EvalItemType.SCORE.equals(itemType)) {        BigDecimal value = new BigDecimal(0);        value.setScale(2);        for (int i = 0; i < getChildItemList().size(); i++) {          ZcEbEvalItemResult childItem = (ZcEbEvalItemResult) getChildItemList().get(i);          if (childItem.getExpertEvalScore() != null) {            value = value.add(childItem.getExpertEvalScore());          }        }        setExpertEvalScore(value);      } else {        for (int i = 0; i < getChildItemList().size(); i++) {          ZcEbEvalItemResult childItem = (ZcEbEvalItemResult) getChildItemList().get(i);          //"2"：表示不通过          if (childItem.getComplianceEvalValue() == null || childItem.getComplianceEvalValue().equals(ZcSettingConstants.COMPLIANCE_EVAL_NOPASS)) {            setComplianceEvalValue(ZcSettingConstants.COMPLIANCE_EVAL_NOPASS);            return;          }        }        setComplianceEvalValue(ZcSettingConstants.COMPLIANCE_EVAL_PASS);      }    }  }  public void setTempId(String tempId) {    this.tempId = tempId;  }  public String getFormulaCode() {    return formulaCode;  }  public void setFormulaCode(String formulaCode) {    this.formulaCode = formulaCode;  }  public String getItemCode() {    return itemCode;  }  public void setItemCode(String itemCode) {    this.itemCode = itemCode;  }  public String getParentItemCode() {    return parentItemCode;  }  public void setParentItemCode(String parentItemCode) {    this.parentItemCode = parentItemCode;  }  public String getItemName() {    return itemName;  }  public void setItemName(String itemName) {    this.itemName = itemName;  }  public String getDescription() {    return description;  }  public void setDescription(String description) {    this.description = description;  }  public String getItemType() {    return itemType;  }  public void setItemType(String itemType) {    this.itemType = itemType;  }  public String getFormula() {    return formula;  }  public void setFormula(String formula) {    this.formula = formula;  }  public String getIsAddScore() {    return isAddScore;  }  public void setIsAddScore(String isAddScore) {    this.isAddScore = isAddScore;  }  public String getIsPriceTarget() {    return isPriceTarget;  }  public void setIsPriceTarget(String isPriceTarget) {    this.isPriceTarget = isPriceTarget;  }  public BigDecimal getMaxAddScore() {    return maxAddScore;  }  public void setMaxAddScore(BigDecimal maxAddScore) {    this.maxAddScore = maxAddScore;  }  public BigDecimal getMaxMinusScore() {    return maxMinusScore;  }  public void setMaxMinusScore(BigDecimal maxMinusScore) {    this.maxMinusScore = maxMinusScore;  }  public BigDecimal getStandardScore() {    return standardScore;  }  public void setStandardScore(BigDecimal standardScore) {    this.standardScore = standardScore;  }  public BigDecimal getBaseScore() {    return baseScore;  }  public void setBaseScore(BigDecimal baseScore) {    this.baseScore = baseScore;  }  public BigDecimal getLeastScore() {    return leastScore;  }  public void setLeastScore(BigDecimal leastScore) {    this.leastScore = leastScore;  }  public String getResultCode() {    return resultCode;  }  public void setResultCode(String resultCode) {    this.resultCode = resultCode;  }  public String getProviderCode() {    return providerCode;  }  public void setProviderCode(String providerCode) {    this.providerCode = providerCode;  }  public String getProviderName() {    return providerName;  }  public void setProviderName(String providerName) {    this.providerName = providerName;  }  public String getEvalExpert() {    return evalExpert;  }  public void setEvalExpert(String evalExpert) {    this.evalExpert = evalExpert;  }  public String getEvalExpertCode() {    return evalExpertCode;  }  public void setEvalExpertCode(String evalExpertCode) {    this.evalExpertCode = evalExpertCode;  }  public String getAdjustReason() {    return adjustReason;  }  public void setAdjustReason(String adjustReason) {    this.adjustReason = adjustReason;  }  public String getIsCompositeResult() {    return isCompositeResult;  }  public void setIsCompositeResult(String isCompositeResult) {    this.isCompositeResult = isCompositeResult;  }  public String getRemark() {    return remark;  }  public void setRemark(String remark) {    this.remark = remark;  }  public String getComplianceEvalValue() {    if (getChildItemList() == null || getChildItemList().size() == 0) {      return complianceEvalValue;    } else {      for (int i = 0; i < getChildItemList().size(); i++) {        ZcEbEvalItemResult childItem = (ZcEbEvalItemResult) getChildItemList().get(i);        if (childItem.getComplianceEvalValue() == null || childItem.getComplianceEvalValue().equals(ZcSettingConstants.COMPLIANCE_EVAL_NOPASS)) {          return ZcSettingConstants.COMPLIANCE_EVAL_NOPASS;        }      }      return ZcSettingConstants.COMPLIANCE_EVAL_PASS;    }  }  public void setComplianceEvalValue(String complianceEvalValue) {    this.complianceEvalValue = complianceEvalValue;  }  public String getComplianceUnpassReason() {    return complianceUnpassReason;  }  public void setComplianceUnpassReason(String complianceUnpassReason) {    this.complianceUnpassReason = complianceUnpassReason;  }  public Date getEvalDate() {    return evalDate;  }  public void setEvalDate(Date evalDate) {    this.evalDate = evalDate;  }  public BigDecimal getExpertEvalScore() {    if (getChildItemList() == null || getChildItemList().size() == 0) {      if (expertEvalScore != null) {        return expertEvalScore.setScale(2, BigDecimal.ROUND_HALF_UP);      } else {        return expertEvalScore;      }    } else {      BigDecimal value = new BigDecimal("0");      value.setScale(2);      for (int i = 0; i < getChildItemList().size(); i++) {        ZcEbEvalItemResult childItem = (ZcEbEvalItemResult) getChildItemList().get(i);        if (childItem.getExpertEvalScore() != null) {          value = value.add(childItem.getExpertEvalScore());        }      }      return value;    }    //    if (expertEvalScore != null) {    //      return expertEvalScore.setScale(2, RoundingMode.HALF_UP);    //    } else {    //      return expertEvalScore;    //    }  }  public void setExpertEvalScore(BigDecimal expertEvalScore) {    this.expertEvalScore = expertEvalScore;  }  public BigDecimal getAdjustScore() {    return adjustScore;  }  public void setAdjustScore(BigDecimal adjustScore) {    this.adjustScore = adjustScore;  }  public String getEvalResult() {    return evalResult;  }  public void setEvalResult(String evalResult) {    this.evalResult = evalResult;  }  public Integer getIndx() {    return indx;  }  public void setIndx(Integer indx) {    this.indx = indx;  }  public BigDecimal getWeight() {    return weight;  }  public void setWeight(BigDecimal weight) {    this.weight = weight;  }  public String getPackCode() {    return packCode;  }  public void setPackCode(String packCode) {    this.packCode = packCode;  }  public String getProjCode() {    return projCode;  }  public void setProjCode(String projCode) {    this.projCode = projCode;  }  public String getAuditValue() {    return auditValue;  }  public void setAuditValue(String auditValue) {    this.auditValue = auditValue;  }  public String getNoPassReason() {    return noPassReason;  }  public void setNoPassReason(String noPassReason) {    this.noPassReason = noPassReason;  }  public String getFormulaItemRemark() {    return formulaItemRemark;  }  public void setFormulaItemRemark(String formulaItemRemark) {    this.formulaItemRemark = formulaItemRemark;  }  public List getChildItemList() {    return childItemList;  }  public void setChildItemList(List childItemList) {    this.childItemList = childItemList;  }  public ZcEbEvalItemResult getParentEvalItemResult() {    return parentEvalItemResult;  }  public void setParentEvalItemResult(ZcEbEvalItemResult parentEvalItemResult) {    this.parentEvalItemResult = parentEvalItemResult;  }  public String getResponseCode() {    return responseCode;  }  public void setResponseCode(String responseCode) {    this.responseCode = responseCode;  }}