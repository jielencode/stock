/** * ZcProMakeOuterDao.java * com.ufgov.gk.server.zc.dao.ibatis * Administrator * 2010-10-12 */package com.ufgov.zc.server.zc.dao.ibatis;import java.sql.SQLException;import java.util.List;import org.springframework.orm.ibatis.SqlMapClientCallback;import org.springframework.orm.ibatis.support.SqlMapClientDaoSupport;import com.ibatis.sqlmap.client.SqlMapExecutor;import com.ufgov.zc.common.system.RequestMeta;import com.ufgov.zc.common.system.dto.ElementConditionDto;import com.ufgov.zc.common.zc.model.ZcEbPack;import com.ufgov.zc.common.zc.model.ZcEbProMakeOuter;import com.ufgov.zc.common.zc.model.ZcebZbItem;import com.ufgov.zc.server.zc.dao.IZcProMakeOuterDao;/** * @author Administrator * */public class ZcProMakeOuterDao extends SqlMapClientDaoSupport implements IZcProMakeOuterDao {  /* (non-Javadoc)   * @see com.ufgov.gk.server.zc.dao.IZcProMakeOuterDao#deleteZcProMake(com.ufgov.gk.common.zc.model.ZcPProMake)   */  public boolean deleteZcProMake(ZcEbProMakeOuter proMake) {    // TODO Auto-generated method stub    getSqlMapClientTemplate().delete("ZcEbProMakeOuter.deleteZcProMake", proMake.getCode());    return true;  }  /* (non-Javadoc)   * @see com.ufgov.gk.server.zc.dao.IZcProMakeOuterDao#getproMakeById(java.lang.String)   */  public ZcEbProMakeOuter getproMakeById(String code) {    // TODO Auto-generated method stub    return (ZcEbProMakeOuter) getSqlMapClientTemplate().queryForObject("ZcEbProMakeOuter.getproMakeById", code);  }  /* (non-Javadoc)   * @see com.ufgov.gk.server.zc.dao.IZcProMakeOuterDao#insert(com.ufgov.gk.common.zc.model.ZcEbProMakeOuter)   */  public void insert(final ZcEbProMakeOuter proMake) {    // TODO Auto-generated method stub    getSqlMapClientTemplate().insert("ZcEbProMakeOuter.insert", proMake);    this.getSqlMapClientTemplate().execute(new SqlMapClientCallback() {      public Object doInSqlMapClient(SqlMapExecutor executor) throws SQLException {        executor.startBatch();        for (int i = 0; i < proMake.getPackLst().size(); i++) {          ZcEbPack p = (ZcEbPack) proMake.getPackLst().get(i);          executor.insert("ZcEbProMakeOuter.insertPack", p);        }        executor.executeBatch();        return null;      }    });  }  /* (non-Javadoc)   * @see com.ufgov.gk.server.zc.dao.IZcProMakeOuterDao#updateByPrimaryKey(com.ufgov.gk.common.zc.model.ZcEbProMakeOuter)   */  public void updateByPrimaryKey(final ZcEbProMakeOuter proMake) {    getSqlMapClientTemplate().update("ZcEbProMakeOuter.updateByPrimaryKey", proMake);    this.getSqlMapClientTemplate().delete("ZcEbProMakeOuter.deletePack", proMake.getCode());    this.getSqlMapClientTemplate().execute(new SqlMapClientCallback() {      public Object doInSqlMapClient(SqlMapExecutor executor) throws SQLException {        executor.startBatch();        for (int i = 0; i < proMake.getPackLst().size(); i++) {          ZcEbPack p = (ZcEbPack) proMake.getPackLst().get(i);          executor.insert("ZcEbProMakeOuter.insertPack", p);        }        executor.executeBatch();        return null;      }    });  }  public List getZcEbProMakeOuter(ElementConditionDto elementConditionDto, RequestMeta requestMeta) {    // TODO Auto-generated method stub    return this.getSqlMapClientTemplate().queryForList("ZcEbProMakeOuter.getproMake", elementConditionDto);  }  public List getZcEbProMakeOuterPack(String projCode, RequestMeta requestMeta) {    // TODO Auto-generated method stub    return this.getSqlMapClientTemplate().queryForList("ZcEbProMakeOuter.getPack", projCode);  }}