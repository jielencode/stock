package com.ufgov.zc.server.zc.web.action.merchandise;import java.util.Iterator;import java.util.Map;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.apache.commons.logging.Log;import org.apache.commons.logging.LogFactory;import org.apache.struts.action.ActionForm;import org.apache.struts.action.ActionForward;import org.apache.struts.action.ActionMapping;import com.ufgov.zc.server.zc.service.IMenuGoodsService;import com.ufgov.zc.server.zc.web.action.StrutsAction;public class DeleteMerchandiseAction extends StrutsAction {  private final static Log log = LogFactory.getLog(DeleteMerchandiseAction.class);  public ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest request,  HttpServletResponse response) throws Exception {    String forword = "success1";    try {      IMenuGoodsService menuGoodsService = (IMenuGoodsService) this.getWebApplicationContext().getBean("menuGoodsService");      Map map = request.getParameterMap();      Iterator it = map.entrySet().iterator();      while (it.hasNext()) {        Map.Entry entry = (Map.Entry) it.next();        String key = entry.getKey().toString();        if ("ids".equals(key)) {          if (entry.getValue() instanceof String[]) {            String[] values = (String[]) entry.getValue();            menuGoodsService.deleteMerchandise(values);            System.out.println("---delete--OK---");            request.setAttribute("message", "删除成功！");          }        }      }    } catch (Exception e) {      log.error(e);      throw e;    }    return mapping.findForward(forword);  }}