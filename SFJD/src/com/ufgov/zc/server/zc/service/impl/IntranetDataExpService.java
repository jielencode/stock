package com.ufgov.zc.server.zc.service.impl;import java.util.ArrayList;import java.util.HashMap;import java.util.Iterator;import java.util.List;import java.util.Map;import com.ufgov.zc.common.system.RequestMeta;import com.ufgov.zc.common.system.dto.ElementConditionDto;import com.ufgov.zc.common.system.model.User;import com.ufgov.zc.common.zc.model.ZcEbProj;import com.ufgov.zc.common.zc.model.ZcEbProjZbFile;import com.ufgov.zc.common.zc.model.ZcPProMitemExample;import com.ufgov.zc.server.console.dao.IAsEmpDao;import com.ufgov.zc.server.system.dao.IAsFileDao;import com.ufgov.zc.server.system.dao.IUserDao;import com.ufgov.zc.server.zc.dao.IBaseDao;import com.ufgov.zc.server.zc.dao.IZcEbBaseServiceDao;import com.ufgov.zc.server.zc.dao.IZcEbEntrustDao;import com.ufgov.zc.server.zc.dao.IZcEbFormulaDao;import com.ufgov.zc.server.zc.dao.IZcEbPlanDao;import com.ufgov.zc.server.zc.dao.IZcEbProjDao;import com.ufgov.zc.server.zc.dao.IZcEbRequirementDao;import com.ufgov.zc.server.zc.dao.IZcEbSignupDao;import com.ufgov.zc.server.zc.dao.IZcEbSupplierDao;import com.ufgov.zc.server.zc.dao.IZcPProMakeDao;import com.ufgov.zc.server.zc.dao.IZcPProMitemBiDao;import com.ufgov.zc.server.zc.dao.IZcPProMitemDao;import com.ufgov.zc.server.zc.service.IIntranetDataExpService;import com.ufgov.zc.server.zc.util.GeneralFunc;public class IntranetDataExpService implements IIntranetDataExpService {  private IAsEmpDao asEmpDao;  private IAsFileDao asFileDao;  private IUserDao userDao;  private IZcEbProjDao zcEbProjDao;  private IZcEbBaseServiceDao baseServiceDao;  private IZcEbEntrustDao zcEbEntrustDao;  private IZcEbFormulaDao zcEbFormulaDao;  private IZcEbPlanDao zcEbPlanDao;  private IBaseDao baseDao;  private IZcEbRequirementDao zcEbRequirementDao;  private IZcEbSignupDao zcEbSignupDao;  private IZcEbSupplierDao zcEbSupplierDao;  private IZcPProMakeDao zcPProMakeDao;  private IZcPProMitemBiDao zcPProMitemBiDao;  private IZcPProMitemDao zcPProMitemDao;  public List getAsEmpData(List userId) {    ArrayList list = new ArrayList();    ElementConditionDto dto = new ElementConditionDto();    for (Iterator iterator = userId.iterator(); iterator.hasNext();) {      String ui = (String) iterator.next();      dto.setExtField1(ui);      list.add(asEmpDao.getProviderInfoByUserId(dto));    }    return list;  }  public List getAsFileData(List fileId) {    ArrayList list = new ArrayList();    for (Iterator iterator = fileId.iterator(); iterator.hasNext();) {      String fi = (String) iterator.next();      list.add(asFileDao.getAsFileById(fi));    }    return list;  }  public List getAsUserGroupData(List userId) {    ArrayList list = new ArrayList();    for (Iterator iterator = userId.iterator(); iterator.hasNext();) {      String ui = (String) iterator.next();      list.addAll(userDao.getAsUserGroupByUserId(ui));    }    return list;  }  public List getPositionData(List empCode) {    ArrayList list = new ArrayList();    for (Iterator iterator = empCode.iterator(); iterator.hasNext();) {      String ec = (String) iterator.next();      Map map = new HashMap();      map.put("EMP_CODE", ec);      list.addAll(userDao.getAsEmpPosiByEmpCode(map));    }    return list;  }  public ZcEbProj getProjectData(String projCode) {    Map map = new HashMap();    map.put("PROJ_CODE", projCode);    ZcEbProj t = zcEbProjDao.getZcEbProjByProjCode(map);    return t;  }  public List getUserData(List userId) {    ArrayList list = new ArrayList();    for (Iterator iterator = userId.iterator(); iterator.hasNext();) {      String ui = (String) iterator.next();      User user = userDao.getUserById(ui);      String tp = GeneralFunc.recodePwd(user.getPassword());      user.setPassword(tp);      list.add(user);    }    return list;  }  public List getZcEbAuditSheetData(List entrustCodes) {    ArrayList list = new ArrayList();    for (Iterator iterator = entrustCodes.iterator(); iterator.hasNext();) {      String ec = (String) iterator.next();      Map map = new HashMap();      map.put("SN", ec);      list.addAll(baseServiceDao.queryDataForList("ZcEbAuditSheet.read", map));    }    return list;  }  public List getZcEbEntrustData(List entrustCodes) {    ArrayList list = new ArrayList();    for (Iterator iterator = entrustCodes.iterator(); iterator.hasNext();) {      String ec = (String) iterator.next();      list.add(zcEbEntrustDao.getZcEbEntrustBySn(ec));    }    return list;  }  public List getZcEbEntrustDetailData(List entrustCodes) {    ArrayList list = new ArrayList();    for (Iterator iterator = entrustCodes.iterator(); iterator.hasNext();) {      String ec = (String) iterator.next();      list.addAll(zcEbEntrustDao.getZcEbEntrustDetailBySn(ec));    }    return list;  }  public List getZcEbFormulaData(String projCode) {    ElementConditionDto dto = new ElementConditionDto();    dto.setStatus("all");    dto.setProjCode(projCode);    return zcEbFormulaDao.getZcEbFormulaList(dto);  }  public List getZcEbFormulaItemData(List formulaCode) {    ArrayList list = new ArrayList();    for (Iterator iterator = formulaCode.iterator(); iterator.hasNext();) {      String fc = (String) iterator.next();      Map map = new HashMap();      map.put("formulaCode", fc);      list.addAll(baseServiceDao.queryDataForList("ZcEbFormula.getZcEbFormulaItemListByFormulaCode", map));    }    return list;  }  public List getZcEbFormulaParamData(List formulaCode) {    ArrayList list = new ArrayList();    for (Iterator iterator = formulaCode.iterator(); iterator.hasNext();) {      String fc = (String) iterator.next();      list.addAll(zcEbFormulaDao.getZcEbFormulaParamList(fc));    }    return list;  }  public List getZcEbPackData(String projCode) {    return zcEbProjDao.getZcEbPackListByProjCode(projCode);  }  public List getZcEbPackReqData(String projCode) {    return zcEbProjDao.getZcEbPackReqListByProjCode(projCode);  }  public List getZcEbPlanData(String projCode) {    return zcEbPlanDao.getZcEbPlanByProjCode(projCode);  }  public ZcEbProjZbFile getZcEbProjZbFileData(String projCode) {    return (ZcEbProjZbFile) baseDao.read("ZcEbProjZbFile.getZcEbProjZbFileByProjCode", projCode);  }  public List getZcEbRequirementData(List entrustCodes, RequestMeta meta) {    ArrayList list = new ArrayList();    ElementConditionDto dto = new ElementConditionDto();    for (Iterator iterator = entrustCodes.iterator(); iterator.hasNext();) {      String coCode = (String) iterator.next();      dto.setCoCode(coCode);      dto.setNd(meta.getSvNd());      list.addAll(zcEbRequirementDao.getZcEbRequirementList(dto, meta));    }    return list;  }  public List getZcEbRequirementDetailData(List reqCode) {    ArrayList list = new ArrayList();    for (Iterator iterator = reqCode.iterator(); iterator.hasNext();) {      String rc = (String) iterator.next();      list.addAll(zcEbRequirementDao.getOriginZcEbRequirementDetailById(rc));    }    return list;  }  public List getZcEbSignupData(String projCode, RequestMeta meta) {    ElementConditionDto dto = new ElementConditionDto();    dto.setProjCode(projCode);    dto.setNd(meta.getSvNd());    return zcEbSignupDao.getZcEbSignup(dto, meta);  }  public List getZcEbSignupPackDetailData(List signupId) {    ArrayList list = new ArrayList();    for (Iterator iterator = signupId.iterator(); iterator.hasNext();) {      String pc = (String) iterator.next();      ElementConditionDto dto=new ElementConditionDto();      dto.setZcText1(pc);      list.addAll(zcEbSignupDao.getZcEbSignupPackDetail(dto));    }    return list;  }  public List getZcEbSupplierData(List zcSuCode) {    ArrayList list = new ArrayList();    for (Iterator iterator = zcSuCode.iterator(); iterator.hasNext();) {      String pc = (String) iterator.next();      list.add(zcEbSupplierDao.getSupplierById(pc, null));    }    return list;  }  public List getZcPProMakeData(List zcMakeCode) {    ArrayList list = new ArrayList();    for (Iterator iterator = zcMakeCode.iterator(); iterator.hasNext();) {      String pc = (String) iterator.next();      list.add(zcPProMakeDao.selectByPrimaryKey(pc));    }    return list;  }  public List getZcPProMitemBiData(List zcMakeCode) {    ArrayList list = new ArrayList();    for (Iterator iterator = zcMakeCode.iterator(); iterator.hasNext();) {      String pc = (String) iterator.next();      ElementConditionDto dto = new ElementConditionDto();      dto.setZcText0(pc);      list.addAll(zcPProMitemBiDao.getMitemBiWithHtBi(dto));    }    return list;  }  public List getZcPProMitemData(List zcMakeCode) {    ArrayList list = new ArrayList();    for (Iterator iterator = zcMakeCode.iterator(); iterator.hasNext();) {      String pc = (String) iterator.next();      ZcPProMitemExample example = new ZcPProMitemExample();      example.createCriteria().andZcMakeCodeEqualTo(pc);      list.addAll(zcPProMitemDao.selectByExample(example));    }    return list;  }  public IAsEmpDao getAsEmpDao() {    return asEmpDao;  }  public void setAsEmpDao(IAsEmpDao asEmpDao) {    this.asEmpDao = asEmpDao;  }  public IAsFileDao getAsFileDao() {    return asFileDao;  }  public void setAsFileDao(IAsFileDao asFileDao) {    this.asFileDao = asFileDao;  }  public IUserDao getUserDao() {    return userDao;  }  public void setUserDao(IUserDao userDao) {    this.userDao = userDao;  }  public IZcEbProjDao getZcEbProjDao() {    return zcEbProjDao;  }  public void setZcEbProjDao(IZcEbProjDao zcEbProjDao) {    this.zcEbProjDao = zcEbProjDao;  }  public IZcEbBaseServiceDao getBaseServiceDao() {    return baseServiceDao;  }  public void setBaseServiceDao(IZcEbBaseServiceDao baseServiceDao) {    this.baseServiceDao = baseServiceDao;  }  public IZcEbEntrustDao getZcEbEntrustDao() {    return zcEbEntrustDao;  }  public void setZcEbEntrustDao(IZcEbEntrustDao zcEbEntrustDao) {    this.zcEbEntrustDao = zcEbEntrustDao;  }  public IZcEbFormulaDao getZcEbFormulaDao() {    return zcEbFormulaDao;  }  public void setZcEbFormulaDao(IZcEbFormulaDao zcEbFormulaDao) {    this.zcEbFormulaDao = zcEbFormulaDao;  }  public IZcEbPlanDao getZcEbPlanDao() {    return zcEbPlanDao;  }  public void setZcEbPlanDao(IZcEbPlanDao zcEbPlanDao) {    this.zcEbPlanDao = zcEbPlanDao;  }  public IBaseDao getBaseDao() {    return baseDao;  }  public void setBaseDao(IBaseDao baseDao) {    this.baseDao = baseDao;  }  public IZcEbRequirementDao getZcEbRequirementDao() {    return zcEbRequirementDao;  }  public void setZcEbRequirementDao(IZcEbRequirementDao zcEbRequirementDao) {    this.zcEbRequirementDao = zcEbRequirementDao;  }  public IZcEbSignupDao getZcEbSignupDao() {    return zcEbSignupDao;  }  public void setZcEbSignupDao(IZcEbSignupDao zcEbSignupDao) {    this.zcEbSignupDao = zcEbSignupDao;  }  public IZcEbSupplierDao getZcEbSupplierDao() {    return zcEbSupplierDao;  }  public void setZcEbSupplierDao(IZcEbSupplierDao zcEbSupplierDao) {    this.zcEbSupplierDao = zcEbSupplierDao;  }  public IZcPProMakeDao getZcPProMakeDao() {    return zcPProMakeDao;  }  public void setZcPProMakeDao(IZcPProMakeDao zcPProMakeDao) {    this.zcPProMakeDao = zcPProMakeDao;  }  public IZcPProMitemBiDao getZcPProMitemBiDao() {    return zcPProMitemBiDao;  }  public void setZcPProMitemBiDao(IZcPProMitemBiDao zcPProMitemBiDao) {    this.zcPProMitemBiDao = zcPProMitemBiDao;  }  public IZcPProMitemDao getZcPProMitemDao() {    return zcPProMitemDao;  }  public void setZcPProMitemDao(IZcPProMitemDao zcPProMitemDao) {    this.zcPProMitemDao = zcPProMitemDao;  }  public List getZcEbPackReqDetailData(List detailCodes) {    ArrayList list = new ArrayList();    for (Iterator iterator = detailCodes.iterator(); iterator.hasNext();) {      String detailCode = (String) iterator.next();      list.add(zcEbProjDao.getZcEbPackReqDetailByKey(detailCode));    }    return list;  }}